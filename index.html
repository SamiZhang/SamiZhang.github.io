<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--    <head>-->
<!--        <meta charset="UTF-8">-->
<!--        <title>Sami-Z</title>-->
<!--    </head>-->
<!--    -->
<!--    <body>-->
<!--        <div id="app"></div>-->
<!--        <script src="public/bundle.js"></script>-->
<!--    </body>-->
<!--</html>-->

<!DOCTYPE html>
<html>
<head>
    <script src="post-robot.8.0.28.ie.min.js"></script>
    <script>postRobot.CONFIG.LOG_LEVEL = 'error';</script>
    <script src="js.cookie.js"></script>
    <script src="storedDataManager.js"></script>
</head>
<body>
StoredDataManager index.js
<button id="click" type="button" class="button">CLICK ME</button>
<script>
    window.open('https://SamiZhang.github.io/ssoios.html', 'newWindow', 'width=400,height=400');
    var closeButton = document.querySelector('#click');
    closeButton.addEventListener('click', function() {
        window.open('https://SamiZhang.github.io/ssoios.html', 'newWindow', 'width=400,height=400');
        // window.close();
        console.log('[DEBUG - SAMI]!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');
        if (document.hasStorageAccess && document.requestStorageAccess) {
            document.hasStorageAccess().then(hasAccess => {
                console.log('[DEBUG - SAMI]??????????????????????????????????????', hasAccess);
                if (!hasAccess) {
                    console.log('[DEBUG - SAMI]^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^');
                    console.log(document.requestStorageAccess());
                    // return document.requestStorageAccess();
                    console.log('[DEBUG - SAMI] requested access');
                }
            }).then(() => {
                console.log('[DEBUG - SAMI]+++++++++++++++++++++++++++++++++');
                const token = localStorage.getItem('sr_ssotoken');
                console.log('[DEBUG - SAMI] get token from local storage with access', token);
            })
        }
    }, false);
</script>
</body>
</html>